<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>API Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { border-bottom: 2px solid #ccc; padding-bottom: 10px; }
        .category { margin-bottom: 20px; }
        .category h3 { margin-top: 0; color: #2c3e50; }
        .api-list { list-style: none; padding-left: 0; }
        .api-list li { margin: 5px 0; }
        .timestamp { margin-top: 40px; font-size: 0.9em; color: #888; }
    </style>
</head>
<body>
    <h1>API Documentation</h1>
    <div id="categories"></div>
    <div class="timestamp">Last updated: <span id="timestamp"></span></div>
    <script>
        const apiData = {
            "core.html": {
                "title": "",
                "category": "application",
                "filename": "core.html"
            },
            "creation.html": {
                "title": "",
                "category": "application",
                "filename": "creation.html"
            },
            "labels.html": {
                "title": "",
                "category": "application",
                "filename": "labels.html"
            },
            "listing.html": {
                "title": "",
                "category": "application",
                "filename": "listing.html"
            },
            "v1.html": {
                "title": "",
                "category": "global-config",
                "filename": "v1.html"
            },
            "version.html": {
                "title": "",
                "category": "global-config",
                "filename": "version.html"
            },
            "provider.html": {
                "title": "",
                "category": "helm",
                "filename": "provider.html"
            },
            "app-store.html": {
                "title": "",
                "category": "helm",
                "filename": "app-store.html"
            },
            "charts.html": {
                "title": "",
                "category": "helm",
                "filename": "charts.html"
            },
            "deployment-history-api-spec.html": {
                "title": "",
                "category": "helm",
                "filename": "deployment-history-api-spec.html"
            },
            "webhook_helm-api-spec.html": {
                "title": "",
                "category": "helm",
                "filename": "webhook_helm-api-spec.html"
            },
            "dynamic-charts.html": {
                "title": "",
                "category": "helm",
                "filename": "dynamic-charts.html"
            },
            "deployment-chart-type.html": {
                "title": "",
                "category": "helm",
                "filename": "deployment-chart-type.html"
            },
            "repo-validation.html": {
                "title": "",
                "category": "helm",
                "filename": "repo-validation.html"
            },
            "bulk-operations.html": {
                "title": "",
                "category": "jobs",
                "filename": "bulk-operations.html"
            },
            "bulk-actions.html": {
                "title": "",
                "category": "jobs",
                "filename": "bulk-actions.html"
            },
            "batch.html": {
                "title": "",
                "category": "jobs",
                "filename": "batch.html"
            },
            "core.html": {
                "title": "",
                "category": "jobs",
                "filename": "core.html"
            },
            "bulk-update.html": {
                "title": "",
                "category": "jobs",
                "filename": "bulk-update.html"
            },
            "global.html": {
                "title": "",
                "category": "plugin",
                "filename": "global.html"
            },
            "core.html": {
                "title": "",
                "category": "plugin",
                "filename": "core.html"
            },
            "plugin-creation.html": {
                "title": "",
                "category": "plugin",
                "filename": "plugin-creation.html"
            },
            "fluxcd.html": {
                "title": "",
                "category": "gitops",
                "filename": "fluxcd.html"
            },
            "manifest-generation.html": {
                "title": "",
                "category": "gitops",
                "filename": "manifest-generation.html"
            },
            "submodules.html": {
                "title": "",
                "category": "gitops",
                "filename": "submodules.html"
            },
            "core.html": {
                "title": "",
                "category": "gitops",
                "filename": "core.html"
            },
            "bitbucket.html": {
                "title": "",
                "category": "gitops",
                "filename": "bitbucket.html"
            },
            "validation.html": {
                "title": "",
                "category": "gitops",
                "filename": "validation.html"
            },
            "external-links-specs.html": {
                "title": "",
                "category": "external-app",
                "filename": "external-links-specs.html"
            },
            "applist.html": {
                "title": "",
                "category": "external-app",
                "filename": "applist.html"
            },
            "history.html": {
                "title": "",
                "category": "deployment",
                "filename": "history.html"
            },
            "app-type-change.html": {
                "title": "",
                "category": "deployment",
                "filename": "app-type-change.html"
            },
            "rollback.html": {
                "title": "",
                "category": "deployment",
                "filename": "rollback.html"
            },
            "core.html": {
                "title": "",
                "category": "deployment",
                "filename": "core.html"
            },
            "group.html": {
                "title": "",
                "category": "deployment",
                "filename": "group.html"
            },
            "timeline.html": {
                "title": "",
                "category": "deployment",
                "filename": "timeline.html"
            },
            "pipeline.html": {
                "title": "",
                "category": "deployment",
                "filename": "pipeline.html"
            },
            "delete-options.html": {
                "title": "",
                "category": "common",
                "filename": "delete-options.html"
            },
            "user-management.html": {
                "title": "",
                "category": "user",
                "filename": "user-management.html"
            },
            "userResource.html": {
                "title": "",
                "category": "user",
                "filename": "userResource.html"
            },
            "policy-management.html": {
                "title": "",
                "category": "user",
                "filename": "policy-management.html"
            },
            "core.html": {
                "title": "",
                "category": "user",
                "filename": "core.html"
            },
            "api-tokens.html": {
                "title": "",
                "category": "user",
                "filename": "api-tokens.html"
            },
            "sso-configuration.html": {
                "title": "",
                "category": "user",
                "filename": "sso-configuration.html"
            },
            "group-policy.html": {
                "title": "",
                "category": "user",
                "filename": "group-policy.html"
            },
            "build-infra-config.html": {
                "title": "",
                "category": "buildInfraConfig",
                "filename": "build-infra-config.html"
            },
            "definitions.html": {
                "title": "",
                "category": "audit",
                "filename": "definitions.html"
            },
            "ClusterResourceRecommendation.html": {
                "title": "",
                "category": "resourceRecommendation",
                "filename": "ClusterResourceRecommendation.html"
            },
            "ci-pipeline-build-spec.html": {
                "title": "",
                "category": "ci-pipeline",
                "filename": "ci-pipeline-build-spec.html"
            },
            "ci-pipeline-change-source.html": {
                "title": "",
                "category": "ci-pipeline",
                "filename": "ci-pipeline-change-source.html"
            },
            "downstream-linked-ci-view-spec.html": {
                "title": "",
                "category": "ci-pipeline",
                "filename": "downstream-linked-ci-view-spec.html"
            },
            "docker-build.html": {
                "title": "",
                "category": "ci-pipeline",
                "filename": "docker-build.html"
            },
            "workflow-stage-status.internal.html": {
                "title": "",
                "category": "ci-pipeline",
                "filename": "workflow-stage-status.internal.html"
            },
            "webhooks.html": {
                "title": "",
                "category": "notifications",
                "filename": "webhooks.html"
            },
            "core.html": {
                "title": "",
                "category": "notifications",
                "filename": "core.html"
            },
            "authentication.html": {
                "title": "",
                "category": "authentication",
                "filename": "authentication.html"
            },
            "ephemeral-containers.html": {
                "title": "",
                "category": "kubernetes",
                "filename": "ephemeral-containers.html"
            },
            "cluster.html": {
                "title": "",
                "category": "kubernetes",
                "filename": "cluster.html"
            },
            "resources.html": {
                "title": "",
                "category": "kubernetes",
                "filename": "resources.html"
            },
            "cluster-management.html": {
                "title": "",
                "category": "kubernetes",
                "filename": "cluster-management.html"
            },
            "apis.html": {
                "title": "",
                "category": "kubernetes",
                "filename": "apis.html"
            },
            "capacity.html": {
                "title": "",
                "category": "kubernetes",
                "filename": "capacity.html"
            },
            "core.html": {
                "title": "",
                "category": "environment",
                "filename": "core.html"
            },
            "bulk-delete.html": {
                "title": "",
                "category": "environment",
                "filename": "bulk-delete.html"
            },
            "config-diff.html": {
                "title": "",
                "category": "environment",
                "filename": "config-diff.html"
            },
            "templates.html": {
                "title": "",
                "category": "template",
                "filename": "templates.html"
            },
            "config-maps.html": {
                "title": "",
                "category": "template",
                "filename": "config-maps.html"
            }
        };

        function populatePage() {
            const categoriesContainer = document.getElementById('categories');
            const categories = {};

            Object.values(apiData).forEach(api => {
                if (!categories[api.category]) {
                    categories[api.category] = [];
                }
                categories[api.category].push(api);
            });

            Object.keys(categories).sort().forEach(category => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category';

                const categoryTitle = document.createElement('h3');
                categoryTitle.textContent = category
                    .replace(/([a-z])([A-Z])/g, '$1 $2')  // camelCase -> space
                    .replace(/([A-Z]+)([A-Z][a-z])/g, '$1 $2') // ABCThing -> ABC Thing
                    .split(/[\s-_]+/) // split on space, dash, underscore
                    .map(word => {
                        if (word === word.toUpperCase()) return word; // keep acronyms uppercase
                        return word.charAt(0).toUpperCase() + word.slice(1);
                    })
                    .join(' ');

                categoryDiv.appendChild(categoryTitle);

                const apiList = document.createElement('ul');
                apiList.className = 'api-list';

                categories[category]
                    .sort((a, b) => a.title.localeCompare(b.title))
                    .forEach(api => {
                        const listItem = document.createElement('li');
                        const link = document.createElement('a');
                        link.href = api.filename; // removed target="_blank"
                        link.textContent = api.title;
                        listItem.appendChild(link);
                        apiList.appendChild(listItem);
                    });

                categoryDiv.appendChild(apiList);
                categoriesContainer.appendChild(categoryDiv);
            });

            document.getElementById('timestamp').textContent = new Date().toLocaleString();
        }

        document.addEventListener('DOMContentLoaded', populatePage);
    </script>
</body>
</html>
